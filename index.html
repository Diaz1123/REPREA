<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23a855f7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M12 3L9.5 8.5L4 11L9.5 13.5L12 19L14.5 13.5L20 11L14.5 8.5Z'/%3e%3c/svg%3e" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>REPREA - Asistente de Redacción Científica</title>
    
    <!-- Polyfill for process.env to prevent startup crash in browser -->
    <script>
      if (typeof process === 'undefined') {
        window.process = { env: {} };
      }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Babel for on-the-fly TSX transpilation (required for no-build-step deployment) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.9/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react/": "https://esm.sh/react@18.2.0/",
        "react-dom": "https://esm.sh/react-dom@18.2.0",
        "react-dom/": "https://esm.sh/react-dom@18.2.0/",
        "@google/genai": "https://esm.sh/@google/genai@0.14.0",
        "lucide-react": "https://esm.sh/lucide-react@0.525.0"
      }
    }
    </script>
</head>
<body class="antialiased">
    <div id="root"></div>
    
    <!-- Sample React component for testing -->
    <script type="text/babel" data-presets="react,typescript">
      const { useState } = React;
      
      function App() {
        const [message, setMessage] = useState('¡REPREA funcionando correctamente!');
        
        return (
          <div className="min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4">
            <div className="bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center">
              <div className="mb-6">
                <svg 
                  className="w-16 h-16 mx-auto text-purple-600" 
                  fill="none" 
                  stroke="currentColor" 
                  viewBox="0 0 24 24"
                >
                  <path 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    strokeWidth={2} 
                    d="M12 3L9.5 8.5L4 11L9.5 13.5L12 19L14.5 13.5L20 11L14.5 8.5Z" 
                  />
                </svg>
              </div>
              <h1 className="text-3xl font-bold text-gray-800 mb-4">REPREA</h1>
              <p className="text-lg text-gray-600 mb-6">Asistente de Redacción Científica</p>
              <div className="bg-green-50 border border-green-200 rounded-lg p-4">
                <p className="text-green-800 font-medium">{message}</p>
              </div>
              <p className="text-sm text-gray-500 mt-4">
                Sistema iniciado correctamente. Todas las dependencias cargadas.
              </p>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
</body>
</html>
